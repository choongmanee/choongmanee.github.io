<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.63.2"><meta name=description content="Chungman.kim - Software engineer developing with Go, React, Flutter, and AWS"><link rel=apple-touch-icon sizes=180x180 href=https://chungman.kim/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://chungman.kim/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://chungman.kim/favicon-16x16.png><link rel=manifest href=https://chungman.kim/site.webmanifest><link rel=mask-icon href=https://chungman.kim/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://chungman.kim/css/bootstrap.min.css><title>Serving Assets to My Website | chungman.kim</title><style>body{min-width:300px}.custom-navbar{margin-bottom:1em;height:60px}.custom-navbar a{display:inline-block;padding:18px 0;margin-right:1em;font-weight:700}.custom-navbar a:hover,.custom-navbar a:focus{text-decoration:none}@media print{.custom-navbar{display:none}}article{padding-bottom:1em}img{max-width:100%}body{background-color:#fff}body{color:#212529}a{color:#007bff}a:hover,a:focus{color:#0056b3}.custom-navbar{background-color:#212529}.custom-navbar a{color:rgba(255,255,255,.75)}.custom-navbar a:hover,.custom-navbar a:focus{color:#fff}.container{max-width:800px}pre{display:block;padding:9.5px;word-break:break-all;word-wrap:break-word;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px}pre code{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border:none;border-radius:0}code{padding:2px 4px;color:inherit;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px;font-size:.9em}blockquote,.blockquote{padding:10px 20px;margin:0 0 20px;font-size:1em;border-left:5px solid #6c757d}</style></head><body><nav class=custom-navbar><div class=container><a href=/>Posts</a>
<a href=/tags/>Tags</a>
<a href=/about/>About</a></div></nav><div class=container><article><h1>Serving Assets to My Website</h1><p>Serving assets, such as images and documents, to be accessible to end users is essential to a modern web experience.
As for what I have in mind with this blog, I want to visually capture steps that I took to help jog my memory of
what I did or learned.</p><p>Setting this up took me 30 minutes the first time. The steps are split into a series of posts to keep the posts short
and organized.</p><h2 id=considerations>Considerations</h2><p>The fact that you&rsquo;re reading this post is a good indicator that this page loaded in a reasonable amount of time.
<a href=https://www.fastcompany.com/1825005/how-one-second-could-cost-amazon-16-billion-sales target=_blank>Fast Company</a>
reported that load times can be a critical factor to Amazon&rsquo;s sales and Google&rsquo;s search results. With that to
keep in mind, here is my wishlist.</p><ol><li>Low cost storage</li><li>Expandable storage</li><li>Storage durability (Would my assets remain in a natural disaster? Does the hosting company have foreseeable
longevity?)</li><li>Secure storage management</li><li>Easy health checks</li><li>Controlled access to assets</li><li>Flawless or near flawless uptime</li><li>Low cost delivery</li><li>Fast content delivery</li><li>Configurable with my domain</li></ol><p>In a nutshell, I&rsquo;m looking to have a content delivery network(CDN) with an outstanding storage offering.</p><h2 id=using-aws-to-configure-my-cdn>Using AWS to configure my CDN</h2><p>The table below lists what I did with which service:<br><em>Some familiarity with AWS and the AWS Console is assumed</em></p><table><thead><tr><th>Action</th><th align=center>Route 53</th><th align=center>Certificate Manager</th><th align=center>S3</th><th align=center>Cloudfront</th></tr></thead><tbody><tr><td>Have my domain in Route 53</td><td align=center>x</td><td align=center></td><td align=center></td><td align=center></td></tr><tr><td>Get a secure certificate for HTTPS</td><td align=center>o</td><td align=center>x</td><td align=center></td><td align=center></td></tr><tr><td>Create a S3 bucket</td><td align=center></td><td align=center></td><td align=center>x</td><td align=center></td></tr><tr><td>Create a Cloudfront distribution of my S3 bucket</td><td align=center></td><td align=center></td><td align=center>o</td><td align=center>x</td></tr><tr><td>Add a new record for my Cloudfront distribution</td><td align=center>x</td><td align=center></td><td align=center></td><td align=center>o</td></tr></tbody></table><p>x: Primary AWS service; o: Related AWS service</p><h3 id=have-my-domain-in-route-53>Have my domain in Route 53</h3><ol><li>From AWS Console, navigate to Route 53
<img src=https://assets.chungman.kim/images/aws-route53-search.png alt="search query for Route 53"></li><li>Go to <strong>Domains</strong> in the left panel and confirm <code>youdomain.com</code> is listed
<img src=https://assets.chungman.kim/images/aws-route53-domain-listing.png alt="list of domains in route 53"><ul><li>If you don&rsquo;t have a registered domain, purchase a domain by clicking the <strong>Register Domain</strong> button</li></ul></li></ol><h3 id=get-a-secure-certificate-for-https>Get a secure certificate for HTTPS</h3><ol><li><p>Click on <strong>Services</strong> in the header drop and type <strong>Certificate Manager</strong> in the search, follow the top suggestion</p></li><li><p>If you don&rsquo;t have any provisioned certificates, click <strong>Get Started</strong> under <strong>Provision Certificates</strong>.</p><ul><li>If you have provisioned certificates but don&rsquo;t see any listed, navigate to the region where your provisioned
certificates are listed.</li></ul></li><li><p>Start a request for a certificate by clicking on the <strong>Request a certificate</strong> button
<img src=https://assets.chungman.kim/images/aws-certificate-manager-request-certificate-buttons.png alt="request a certificate button in AWS Certificate Manager"></p><p>[!] Note the region you are working from provided in the header. Certificates are in the region from which
they were initially requested.
<img src=https://assets.chungman.kim/images/aws-certificate-manager-nav.png alt="region in AWS header"></p></li><li><p>Select <strong>Request a public certificate</strong> and click <strong>Request a certificate</strong></p></li><li><p>Complete the request process</p><ol><li><em>Add domain names</em>:<ol><li>Enter <code>yourdomain.com</code> and click <strong>Add another name to this certificate</strong></li><li>Enter <code>*.yourdomain.com</code> and click <strong>Next</strong>
<img src=https://assets.chungman.kim/images/aws-certificate-manager-flow1.png alt="add domain names"></li></ol></li><li><em>Select validation method</em>:<ol><li>Select <strong>DNS validation</strong> and click <strong>Next</strong></li></ol></li><li><em>Add Tags</em>:<ol><li>Enter as many tags as you&rsquo;d like or none. Tags are similar to labels on AWS resources, can be used to
communicate
to other users about this resource, and a means for tracking costs.</li></ol></li><li><em>Review</em>:<ol><li>Review for the following<ol><li><strong>Domain name</strong>: <code>yourdomain.com</code></li><li><strong>Additional name</strong>: <code>*.yourdomain.com</code></li><li><strong>Validation method</strong>: <code>DNS</code></li></ol></li><li>Click <strong>Confirm and request</strong> if everything looks right</li></ol></li><li><em>Validation</em>:<ol><li>This process may take a few hours but generally completes in 15 minutes. While it validates, expand each
row under <strong>Domain</strong> and perform the following:<ol><li>Click the blue <strong>Create record in Route 53</strong> button
<img src=https://assets.chungman.kim/images/aws-certificate-manager-flow5.png alt=validation></li><li>In the pop-up modal, click <strong>Create</strong></li></ol></li><li>Click <strong>Continue</strong></li></ol></li></ol></li><li><p>Verify the request in the table for <code>yourDomain.com</code> and it&rsquo;s status is either <strong>Issued</strong> or <strong>Pending</strong>
<img src=https://assets.chungman.kim/images/aws-certificate-manager-complete-request.png alt="complete request"></p></li></ol><h3 id=create-a-s3-bucket>Create a S3 bucket</h3><ol><li>Click on <strong>Services</strong> in the header drop and type <strong>S3</strong> in the search, follow the top suggestion</li><li>Click on <strong>Create bucket</strong> to start a bucket creation process</li><li>Under <strong>General configuration</strong>:<ol><li>Enter a <em>unique</em> bucket name</li><li>Choose a region. General good practice is to select a region that is closest in proximity but also consider
the availability zones in the region.</li></ol></li><li>Under <strong>Bucket settings for Block Public Access</strong><ol><li>Keep <strong>Block all public access</strong> checked. This protects your S3 bucket from being exposed to requests to the
public. In the next section, we&rsquo;ll conigure Cloudfront to have access to your S3 and be responsible for
distributing your assets.</li></ol></li><li>Click on <strong>Create bucket</strong></li></ol><h3 id=create-a-cloudfront-distribution-for-a-s3-bucket>Create a Cloudfront distribution for a S3 bucket</h3><p>&mdash; work in progress</p><h3 id=add-a-new-record-in-route-53-for-you-cloudfront-distribution>Add a new record in Route 53 for you Cloudfront distribution</h3><p>&mdash; work in progress</p><p>If you like this post, please feel free to support me.</p></article></div><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-157392301-1','auto');ga('send','pageview');</script><script async src=https://www.google-analytics.com/analytics.js></script><link rel=stylesheet type=text/css href=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css><script src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js></script><script>window.addEventListener("load",function(){window.cookieconsent.initialise({"palette":{"popup":{"background":"#216942","text":"#b2d192"},"button":{"background":"#afed71"}}})});</script></body></html>